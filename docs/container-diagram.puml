@startuml container
!theme plain
title PYHABOT Container Diagram

' External Systems
person "User" as user
system "HardverAprÃ³" as hardverapro
system "Discord API" as discord_api
system "Telegram API" as telegram_api

' Containers
container "PYHABOT" as pyhabot {
    container "CLI Interface" as cli
    container "Bot Core" as bot_core
    container "Scheduler" as scheduler
    container "Scraper" as scraper
    container "Repository" as repo
    container "Integrations" as integrations
}

' Data Stores
database "TinyDB JSON" as tinydb

' Interactions
user --> cli : "pyhabot run"
user --> integrations : "Chat commands"
integrations --> user : "Notifications"
cli --> bot_core : "Starts application"
scheduler --> bot_core : "Periodic tasks"
bot_core --> scraper : "Scrape requests"
scraper --> hardverapro : "HTTP requests"
bot_core --> repo : "CRUD operations"
repo --> tinydb : "Read/Write"
integrations --> discord_api : "Send messages"
integrations --> telegram_api : "Send messages"

' Notes
note bottom of cli
  Entry point
  CLI commands
end note

note bottom of scheduler
  Background tasks
  Jitter & backoff
end note

note bottom of scraper
  Async HTTP client
  BeautifulSoup parsing
end note

note bottom of repo
  TinyDB adapter
  JSON persistence
end note

note bottom of integrations
  Discord, Telegram, Terminal
  Message formatting
end note

@enduml