server {
    listen 80;
    server_name localhost;
    
    # Log all webhook requests for debugging
    access_log /var/log/nginx/webhook-access.log;
    error_log /var/log/nginx/webhook-error.log;
    
    # Main endpoint to capture webhook requests
    location / {
        # Return 204 No Content to simulate Discord webhook behavior
        return 204;
        
        # Alternative: Return 200 OK with JSON response
        # add_header Content-Type application/json;
        # return 200 '{"status": "ok", "message": "Webhook received"}';
    }
    
    # Endpoint to view received requests (for debugging)
    location /logs {
        alias /var/log/nginx;
        autoindex on;
    }
    
    # Health check endpoint
    location /health {
        access_log off;
        return 200 "OK\n";
        add_header Content-Type text/plain;
    }
}